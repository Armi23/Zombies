<!DOCTYPE html>
<html>
    <meta charset="utf-8">
    <head>
        <title>Pandemic Map</title>
        <link rel="stylesheet" type="text/css" href="css/styles.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    </head>
    <body>
        <main>
            <h1>Pandemic Map</h1>
            <p>Instructions: To map your disease, click on the map to mark your starting point. You can select a disease from the drop down, or you can create your own disease by changing the S (susceptibility rate), the I (infection rate), and the R (recovery rate). You can pan around the map by clicking your mouse and dragging the map. You can zoom by scrolling on the screen.</p>
            
            <div class="row">
                <div class="col-md-9">
                    <div id="container"></div>
                </div>
                <div id="controls" class="col-md-3">
                    
<!--
                    <form name="controls" action="JavaScript:start()">
                        <label for="">Variable 1</label>
                        <input type="text" name="variables" id="male" value="male"><br>
                        <label for="">Variable 2</label>
                        <input type="text" name="variables" id="male" value="male"><br>
                        <label for="">Variable 3</label>
                        <input type="text" name="variables" id="male" value="male"><br>
                        <input type="submit" value="Start">
                    </form>
-->
<!--               <input type="submit" value="Start" id="start">-->
                </div>
            </div>
            <div class="row">
                <div id="timeline" class="col-md-6">
                </div>
                <div id="barchart" class="col-md-6">
                    <p>Barchart</p>
                    <svg width="600" height="200">

                    </svg>
                </div>
            </div>
        </main>
        <footer>
            <script src="http://d3js.org/d3.v3.min.js"></script>
            <script src="http://d3js.org/topojson.v1.min.js"></script>
            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
            <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
            <script src="libs/jquery-2.1.1.min.js"></script>
            <script src="js/model.js"></script>
            <script src="js/map.js"></script>
            <script src="js/barchart.js"></script>
            <script src="js/controls.js"></script>
            <script src="js/timeline.js"></script>
            <script src="js/geocoder.js"></script>
            
            <script>
                $(function(){ // this function is called after the HTML document is fully loaded
                    
                    // some variables
                    var var1 = [];
                    var var2 = {};
                    MyEventHandler = {};
                    
                    var init = function(){
                        
                        // create initializers barchart.js controls.js timeline.js
                        //TODO: Instantiate all Vis Objects here

                        // var controls = new Controls(d3.select("#controls"), var1, var2, MyEventHandler);
                        // var barchart = new BarChart(d3.select("#barchart"), var1, var2);
                       var timeline = new TimeVis(d3.select("#timeline"), MyEventHandler);

                       $(MyEventHandler).bind("timeTick", function(e, data) {
                        timeline.updateData(data["time"]);
                       })

                    }
                    
// Probably do not need since we can just call init                    
//                    var dataload = function(){
//                        // Data already in armi's function
//                    
//                    }
//                    
//                    var start() = function(){
//                    
//                    
//                    }
                    
                    init();
                    })
                
                
                    
            </script>
        </footer>
    </body>
</html>